var _op={};_op.config={debug:!1,attempts:10,delay:2e3,id_cookie:"op_id",debug_cookie:"op_debug",profileId:"UA-16365473-1",console_marker:"--------",console_brand:"O|P - "},_op.debug={},_op.debug.toggle=function(){var o=_op.cookie.get(_op.config.debug_cookie);o=_op.utils.string2boolean(o),"boolean"==typeof o?(o=!o,_op.cookie.set(_op.config.debug_cookie,o),console.log(_op.config.console_brand+"debugging is set to: "+o)):_op.cookie.set(_op.config.debug_cookie,!0)},_op.debug.init=function(){var o=_op.cookie.get(_op.config.debug_cookie);o=_op.utils.string2boolean(o),"boolean"==typeof o&&(_op.config.debug=o)},_op.cookie={},_op.cookie.get=function(o){_op.config.debug&&console.log(_op.config.console_brand+"getting cookie: "+o);var e=new RegExp(o+"=([^;]+)"),n=e.exec(document.cookie);return null!==n?unescape(n[1]):null},_op.cookie.set=function(o,e,n){"undefined"==typeof n&&(n=18e5),_op.config.debug&&console.log(_op.config.console_brand+"setting cookie: "+o+" - with value: "+e);var i=new Date;i.setTime(i.getTime()+n);var c="expires="+i.toGMTString();document.cookie=o+"="+e+"; "+c+"; path=/"},_op.utils={},_op.utils.string2boolean=function(o){return"true"==o||"false"!=o&&null},_op.utils.random=function(){var o=12;return Math.random()*Math.pow(10,o-1)},_op.utils.append={},_op.utils.append.img=function(o){var e=document.createElement("img");e.width=1,e.height=1,e.alt="",e.src=o,document.body.appendChild(e),_op.config.debug&&console.log(_op.config.console_brand+"appended img to body")},_op.utils.append.script=function(o){var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src=o,document.head.appendChild(e),_op.config.debug&&console.log(_op.config.console_brand+"appended script to head")},_op.utils.append.iframe=function(o){var e=document.createElement("iframe");e.width="1",e.height="1",e.frameborder="0",e.style="display:none",e.src=o,document.body.appendChild(e),_op.config.debug&&console.log(_op.config.console_brand+"appended iframe to body")},_op.utils.object={},_op.utils.object.stringify=function(o,e,n){"undefined"==typeof e&&(e="&"),"undefined"==typeof n&&(n="=");for(var i=[],c=0;c<o.length;c++)i.push(o[c].key+n+o[c].value);return i.join(e)},_op.ga_handler={},_op.ga_handler.config={},_op.ga_handler.config.url="//opt.objectiveportal.com/pixel.gif",_op.ga_handler.get_tracker=function(o){_op.config.debug&&console.log(_op.config.console_brand+"getting ga tracker");try{for(var e=ga.getAll(),n=0;n<e.length;n++)if(e[n].get("trackingId")==o)return e[n]}catch(o){}return!1},_op.ga_handler.init=function(o,e,n){"undefined"==typeof e&&(e=_op.config.attempts),"undefined"==typeof n&&(n=_op.config.delay),_op.config.debug&&console.log(_op.config.console_brand+"getting ga profileId");var i=_op.ga_handler.get_tracker(o),c=!1;"function"==typeof i.get&&(c=i.get("clientId")),setTimeout(function(){c?(_op.config.debug&&console.log(_op.config.console_brand+"found ga id: "+c),_op.ga_handler.complete(i,c)):e>0?(_op.config.debug&&console.log(_op.config.console_brand+"retry attempt to find ga clientId"),_op.ga_handler.init(o,--e,n)):_op.config.debug&&console.log(_op.config.console_brand+"ended attempts to find ga clientId")},n)},_op.ga_handler.complete=function(o,e){_op.config.debug&&console.log(_op.config.console_brand+"sending ga event");var n=o.get("name");ga(n+".set","dimension13",e),ga(n+".send",{hitType:"event",eventCategory:"ObjectivePartners",eventAction:"UX",eventLabel:"PVT",nonInteraction:!0,referrer:void 0}),_op.cookie.set(_op.config.id_cookie,e),_op.track.send(e)},_op.ga_handler.url=function(o){var e=[{key:"customer",value:"TEL"},{key:"brand",value:"tele2"},{key:"domain",value:"NL"},{key:"process",value:"site"},{key:"gaid",value:o},{key:"random",value:_op.utils.random()}],n=_op.ga_handler.config.url+"?"+_op.utils.object.stringify(e);return _op.config.debug&&console.log(_op.config.console_brand+"created tracking url: "+n),n},_op.track={},_op.track.send=function(o){_op.config.debug&&console.log(_op.config.console_brand+"loading tracking pixel");var e=_op.ga_handler.url(o);_op.utils.append.img(e),_op.track.complete(o)},_op.track.complete=function(o){_op.config.debug&&(console.log(_op.config.console_brand+"finished loading tracking pixel - ending script"),console.log(_op.config.console_marker))},_op.init=function(){_op.debug.init(),_op.config.debug&&(console.log(_op.config.console_marker),console.log(_op.config.console_brand+"starting"));var o=_op.cookie.get(_op.config.id_cookie);if(_op.config.debug&&console.log(_op.config.console_brand+"starting: "+o),"undefined"==typeof o||""===o||null===o)_op.ga_handler.init(_op.config.profileId);else{_op.config.debug&&console.log(_op.config.console_brand+"check if GA ID and O|P ID match");var e=_op.ga_handler.get_tracker(_op.config.profileId),n="";"function"==typeof e.get&&(n=e.get("clientId")),n!=o?(_op.config.debug&&console.log(_op.config.console_brand+"GA ID and O|P ID do not match, resend both"),_op.ga_handler.init(_op.config.profileId)):_op.config.debug&&(console.log(_op.config.console_brand+"GA ID and O|P ID match, ending script"),console.log(_op.config.console_marker))}},_op.init();